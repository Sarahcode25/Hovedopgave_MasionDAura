// =============================================
// KATALOG PAGE STYLES
// =============================================
@import 'variables';

// Wrapper for all katalog page styles to avoid conflicts
.katalog-page {

    // =============================================
    // KATALOG NAVIGATION
    // =============================================
    .katalog-nav {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: $spacing-xl;
        padding: 0 $spacing-xl;
        width: 100%;
        background-color: #eee2e2;
        height: 125px;
    }

    .katalog-nav-link {
        font-family: $font-body;
        font-weight: 500;
        font-size: $font-size-nav;
        color: $color-text-dark;
        text-decoration: none;
        transition: opacity $transition-fast;

        &:hover {
            opacity: 0.7;
        }
    }

    .katalog-logo {
        width: 180px;
        flex-shrink: 0;
        text-align: center;
    }

    .katalog-logo-text {
        font-family: $font-heading;
        font-size: 40px;
        color: $color-text-dark;
    }

    // =============================================
    // KATALOG HERO SECTION
    // =============================================
    .katalog-hero {
        background-color: #601e1e;
        padding: $spacing-xxl $spacing-section;
        min-height: 505px;
    }

    .katalog-hero-inner {
        max-width: $max-width-content;
        margin: 0 auto;
        width: 100%;
        display: flex;
        justify-content: flex-end;
    }

    .katalog-hero-content {
        max-width: 486px;
        padding-top: $spacing-lg;
    }

    .katalog-hero-title {
        font-family: $font-heading;
        font-size: 60px;
        line-height: $line-height-heading;
        color: $color-text-light;
        margin-bottom: $spacing-md;
    }

    .katalog-hero-text {
        font-family: 'Inter', $font-body;
        font-size: $font-size-h5;
        line-height: 1.5;
        color: $color-text-light;
    }

    // =============================================
    // FILTER BUTTONS SECTION
    // =============================================
    .katalog-filters {
        background-color: $color-background;
        padding: $spacing-lg 0;
        overflow: hidden;
        position: relative;
        
        // Fade-out effekt på højre side
        &::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 120px;
            background: linear-gradient(to right, transparent, $color-background);
            pointer-events: none;
            z-index: 1;
        }
    }

    .katalog-filters-inner {
        display: flex;
        flex-wrap: nowrap;
        gap: 24px;
        padding: 0;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        
        // Skjul scrollbar
        scrollbar-width: none; // Firefox
        -ms-overflow-style: none; // IE/Edge
        &::-webkit-scrollbar {
            display: none; // Chrome/Safari
        }
    }

    .filter-btn {
        background-color: #a45d4e;
        color: $color-text-light;
        font-family: $font-body;
        font-weight: 500;
        font-size: $font-size-nav;
        padding: 16px 32px;
        border: none;
        border-radius: 0 32px 32px 0;
        border-bottom-left-radius: 32px;
        border-top-right-radius: 32px;
        border-top-left-radius: 0;
        border-bottom-right-radius: 0;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(42, 14, 14, 0.2);
        text-shadow: 0 1px 8px rgba(42, 14, 14, 0.25);
        transition: background-color $transition-fast;
        white-space: nowrap;
        min-width: 140px;
        flex-shrink: 0;
        height: 58px;

        &:hover {
            background-color: darken(#a45d4e, 10%);
        }

        &.filter-btn-active {
            background-color: $color-secondary;
        }

        &.filter-btn-secondary {
            background-color: #a45d4e;
        }

        &.filter-btn-small {
            min-width: 140px;
            padding: 16px 32px;
            height: 55px;
            border-radius: 0 24px 24px 0;
            border-bottom-left-radius: 24px;
            border-top-right-radius: 24px;
            border-top-left-radius: 0;
            border-bottom-right-radius: 0;
        }
    }

    // =============================================
    // KATALOG COLLECTION SECTION
    // =============================================
    .katalog-collection {
        padding: $spacing-xl 0;
        background-color: $color-background;
    }

    .katalog-collection-inner {
        // max-width removed to allow full width
        margin: 0 auto;
    }

    .collection-header {
        margin-bottom: $spacing-lg;
    }

    .collection-main-title {
        font-family: $font-heading;
        font-size: $font-size-h2;
        line-height: $line-height-heading;
        color: $color-text-dark;
        margin-bottom: $spacing-md;
    }

    .collection-intro {
        font-family: 'Inter', $font-body;
        font-size: $font-size-body;
        line-height: 1.5;
        color: $color-text-dark;
        margin-bottom: $spacing-sm;
    }

    // =============================================
    // DÜVAL GRID LAYOUT - 3 columns, 2 rows
    // =============================================
    .duval-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr; // 3 equal columns
        grid-template-rows: auto auto;       // Row 1: top products, Row 2: complex content
        gap: 24px;
    }

    .duval-item {
        position: relative;
        overflow: hidden;
        background-color: #bfa1a1;
        aspect-ratio: 1 / 1; // Square aspect ratio

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    }

    // Row 1: 3 products
    .duval-product-1 {
        grid-column: 1;
        grid-row: 1;
        border-radius: 0;
    }

    .duval-product-2 {
        grid-column: 2;
        grid-row: 1;
        border-radius: 0 $radius-lg 0 0; // Top-right corner
    }

    .duval-product-3 {
        grid-column: 3;
        grid-row: 1;
        border-radius: $radius-lg 0 0 0; // Top-left corner
    }

    // =============================================
    // COLUMN 1 WRAPPER - Sub-grid for Le Lien, Textbox, Atmosphere
    // Spans row 2, column 1
    // =============================================
    .duval-col1-wrapper {
        grid-column: 1;
        grid-row: 2;
        display: flex;
        flex-direction: column;
        gap: 24px;
    }

    .duval-col1-wrapper .duval-product-4 {
        border-radius: 0;
        aspect-ratio: 1 / 1;
        flex-shrink: 0;
    }

    .duval-col1-wrapper .duval-textbox-1 {
        padding: $spacing-md 0;
        background-color: transparent;
        flex-shrink: 0;

        h3 {
            font-family: $font-heading;
            font-size: $font-size-h5;
            line-height: $line-height-heading;
            color: $color-text-dark;
            margin-bottom: $spacing-xs;
        }

        p {
            font-family: 'Inter', $font-body;
            font-size: $font-size-body-small;
            line-height: 1.5;
            color: $color-text-dark;
        }
    }

    .duval-col1-wrapper .duval-atmosphere-image {
        flex: 1; // Fill remaining space
        aspect-ratio: auto; // Override square aspect ratio
        min-height: 300px;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    }

    // =============================================
    // COLUMN 2-3 WRAPPER - Sub-grid for Feature + Bottom products
    // Spans row 2, columns 2-3
    // =============================================
    .duval-col23-wrapper {
        grid-column: 2 / 4; // Span columns 2 and 3
        grid-row: 2;
        display: grid;
        grid-template-columns: 1fr 1fr; // Two equal columns for bottom products
        grid-template-rows: auto auto;   // Feature section + bottom products
        gap: 24px;
    }

    // Feature section with background (spans both columns in col23-wrapper)
    // Background image dimensions: 1947x1298 (aspect ratio ~1.5:1)
    .duval-feature-section {
        grid-column: 1 / 3; // Span both columns in the wrapper
        grid-row: 1;
        background-image: url('img/katalog-rectangle1.png');
        background-size: 100% auto;
        background-position: top center;
        background-repeat: no-repeat;
        border-radius: 0 0 $radius-lg 0;
        padding: 0;
        
        // Grid layout: 2 columns (50% each), 2 rows (50% each)
        display: grid;
        grid-template-columns: 50% 50%;
        grid-template-rows: 50% 50%;
        
        // Dynamic height calculation
        --bg-aspect-ratio: 1.5;
        --text-padding: 60px;
        --heading-line-height: 26.25px;
        --body-line-height: 24px;
        --heading-lines: 2;
        --body-lines: 8;
        
        --text-height: calc(
            var(--heading-lines) * var(--heading-line-height) + 
            var(--body-lines) * var(--body-line-height) + 
            var(--text-padding)
        );
        
        min-height: calc(480px + var(--text-height));
    }

    // Column 1: Text (row 1) + Product (row 2) - each row 50% height
    .duval-feature-col1 {
        display: contents; // Let children participate directly in the grid

        // Row 1, Column 1: Text with padding - 100% width, aligned to bottom
        .duval-feature-text {
            grid-column: 1;
            grid-row: 1;
            padding: 40px;
            width: 100%;
            box-sizing: border-box;
            align-self: end; // Align text to bottom of cell
            display: flex;
            flex-direction: column;
            justify-content: flex-end;

            h3 {
                font-family: $font-heading;
                font-size: $font-size-h5;
                line-height: $line-height-heading;
                color: $color-text-light;
                margin-bottom: $spacing-xs;
            }

            p {
                font-family: 'Inter', $font-body;
                font-size: $font-size-body-small;
                line-height: 1.5;
                color: $color-text-light;
            }
        }

        // Row 2, Column 1: Promesse product - NO padding, white border, 100% width
        .duval-product-5 {
            grid-column: 1;
            grid-row: 2;
            border: 12px solid $color-background;
            border-left: none;
            border-bottom: none;
            border-radius: 0;
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            align-self: stretch;
            justify-self: stretch;
        }
    } // End of .duval-feature-col1

    // Column 2: Text at bottom (spans both rows, extends past background image)
    .duval-feature-col2 {
        grid-column: 2;
        grid-row: 1 / 3;
        display: flex;
        flex-direction: column;
        justify-content: flex-end; // Text at bottom
        width: 100%;
        box-sizing: border-box;
    }

    .duval-feature-col2 .duval-textbox-2 {
        background-color: transparent;
        padding: 40px;
        width: 100%;
        box-sizing: border-box;

        h3 {
            font-family: $font-heading;
            font-size: $font-size-h5;
            line-height: $line-height-heading;
            color: $color-text-dark;
            margin-bottom: $spacing-xs;
        }

        p {
            font-family: 'Inter', $font-body;
            font-size: $font-size-body-small;
            line-height: 1.5;
            color: $color-text-dark;
        }
    }

    // Bottom products in col23-wrapper
    .duval-col23-wrapper .duval-product-6 {
        grid-column: 1;
        grid-row: 2;
        border-radius: 0;
    }

    .duval-col23-wrapper .duval-product-7 {
        grid-column: 2;
        grid-row: 2;
        border-radius: 0 0 0 $radius-lg;
    }

    // Product info overlay - Smooth gradient
    .product-info {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px 30px;
        // Smoother gradient without hard edge
        background: linear-gradient(
            to top,
            rgba(42, 14, 14, 0.85) 0%,
            rgba(42, 14, 14, 0.7) 30%,
            rgba(42, 14, 14, 0.4) 60%,
            rgba(42, 14, 14, 0.1) 85%,
            rgba(42, 14, 14, 0) 100%
        );
        color: $color-text-light;
    }

    .product-name {
        font-family: $font-heading;
        font-size: 31px;
        line-height: $line-height-heading;
        color: $color-text-light;
        text-align: center;
    }

    .product-subtitle {
        font-family: 'Inter', $font-body;
        font-weight: 300;
        font-size: $font-size-body-small;
        line-height: $line-height-heading;
        color: $color-text-light;
        text-align: center;
        margin-bottom: $spacing-sm;
    }

    .product-price-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .product-price-label {
        font-family: 'Inter', $font-body;
        font-weight: 600;
        font-size: 13px;
        color: $color-text-light;
    }

    .product-price {
        font-family: 'Inter', $font-body;
        font-weight: 300;
        font-size: 13px;
        color: $color-text-light;
    }

    // Atmosphere text overlay
    .atmosphere-text-overlay {
        position: absolute;
        bottom: 40px;
        left: 40px;
        width: 304px;
        color: $color-text-light;

        h3 {
            font-family: $font-heading;
            font-size: $font-size-h5;
            line-height: $line-height-heading;
            margin-bottom: $spacing-xs;
        }

        p {
            font-family: 'Inter', $font-body;
            font-size: $font-size-body-small;
            line-height: 1.5;
        }
    }

    // =============================================
    // UDVALGT TIL DIG SECTION
    // =============================================
    .katalog-udvalgt {
        padding: $spacing-xl $spacing-section;
        background-color: $color-background;
    }

    .katalog-udvalgt-inner {
        max-width: $max-width-inner;
        margin: 0 auto;
    }

    .udvalgt-header {
        margin-bottom: $spacing-lg;
    }

    .udvalgt-title {
        font-family: $font-heading;
        font-size: $font-size-h2;
        line-height: $line-height-heading;
        color: $color-text-dark;
        margin-bottom: $spacing-sm;
    }

    .udvalgt-intro {
        font-family: 'Inter', $font-body;
        font-size: $font-size-body;
        line-height: 1.5;
        color: $color-text-dark;
        max-width: 588px;
    }

    .udvalgt-grid {
        display: grid;
        grid-template-columns: repeat(4, 282px);
        gap: 24px;
        justify-content: start;
    }

    .udvalgt-item {
        position: relative;
        overflow: hidden;
        background-color: #bfa1a1;
        height: 282px;

        &:nth-child(3),
        &:nth-child(4) {
            height: 487px;
        }

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    }

    .udvalgt-item:nth-child(4) {
        border-radius: $radius-lg 0 0 0;
    }

    .udvalgt-product-info {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px 30px;
        background: linear-gradient(to top, rgba(42, 14, 14, 0.85) 0%, rgba(42, 14, 14, 0.776) 25.88%, rgba(42, 14, 14, 0.7) 52.18%, rgba(42, 14, 14, 0.475) 88.8%, rgba(42, 14, 14, 0.2) 123.55%);
        color: $color-text-light;
    }

    .udvalgt-product-name {
        font-family: 'Inter', $font-body;
        font-weight: 300;
        font-size: 13px;
        display: block;
        margin-bottom: 4px;
    }

    .udvalgt-product-price {
        font-family: 'Inter', $font-body;
        font-weight: 600;
        font-size: 13px;
    }

    .udvalgt-disclaimer {
        font-family: 'Inter', $font-body;
        font-weight: 300;
        font-size: 13px;
        color: $color-text-dark;
        text-align: right;
        margin-top: $spacing-sm;
    }

    // =============================================
    // DINERO COLLECTION GRID
    // =============================================
    .dinero-grid {
        display: grid;
        grid-template-columns: 384px 384px 384px;
        grid-template-rows: 384px 384px;
        gap: 24px;
        justify-content: center;
    }

    .dinero-item {
        position: relative;
        overflow: hidden;
        background-color: #bfa1a1;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    }

    .dinero-item-1 {
        border-radius: $radius-lg 0 0 0;
    }

    .dinero-item-2 {
        position: relative;
    }

    .dinero-item-3 {
        grid-row: 1 / 3;
        grid-column: 3;
        height: 792px;
        border-radius: $radius-lg 0 0 0;
    }

    .dinero-item-4 {
        grid-column: 1 / 3;
        width: 792px;
    }

    .dinero-coming-soon {
        position: relative;
        width: 100%;
        height: 100%;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: blur(9px);
        }
    }

    .coming-soon-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: $color-text-dark;

        .coming-soon-icon {
            width: 114px;
            height: 113px;
            margin-bottom: $spacing-sm;
            filter: none;
        }

        h3 {
            font-family: $font-heading;
            font-size: $font-size-h3;
            line-height: $line-height-heading;
        }
    }

    .dinero-text-overlay {
        position: absolute;
        bottom: 40px;
        left: 40px;
        width: 304px;
        color: $color-text-light;

        h3 {
            font-family: $font-heading;
            font-size: $font-size-h5;
            line-height: $line-height-heading;
            margin-bottom: $spacing-xs;
        }

        p {
            font-family: 'Inter', $font-body;
            font-size: $font-size-body-small;
            line-height: 1.5;
        }
    }

    .dinero-text-bottom {
        bottom: 80px;
    }

    // =============================================
    // KATALOG FOOTER
    // =============================================
    .katalog-footer {
        padding: $spacing-xl $spacing-section;
        background-color: $color-background;
        display: grid;
        grid-template-columns: 270px 190px 1fr auto;
        gap: $spacing-lg;
        max-width: $max-width-content;
        margin: 0 auto;
    }

    .footer-column-title {
        font-family: $font-body;
        font-weight: 500;
        font-size: $font-size-body;
        color: $color-black;
        margin-bottom: $spacing-md;
    }

    .footer-info-items {
        display: flex;
        flex-direction: column;
        gap: $spacing-md;
    }

    .footer-info-item {
        .footer-info-title {
            font-family: $font-body;
            font-weight: 500;
            font-size: $font-size-body-small;
            color: $color-black;
        }

        .footer-info-text {
            font-family: $font-body;
            font-size: 13px;
            color: $color-black;
        }
    }

    .footer-link-list {
        list-style: none;
        font-family: $font-body;
        font-weight: 500;
        font-size: $font-size-body-small;
        color: $color-black;

        li {
            margin-bottom: $spacing-xs;
        }
    }

    .footer-right {
        display: flex;
        flex-direction: column;
    }

    .footer-social-links {
        display: flex;
        gap: $spacing-xs;
        font-family: $font-body;
        font-size: 13px;
        color: $color-black;
        margin-bottom: $spacing-md;
    }

    .footer-divider {
        height: 1px;
        background-color: $color-black;
        margin-bottom: $spacing-md;
    }

    .footer-description {
        font-family: $font-body;
        font-size: 13px;
        color: $color-black;
        line-height: $line-height-body;
    }

    .footer-logo-large {
        width: 194px;
        
        img {
            width: 100%;
            height: auto;
        }
    }

    // =============================================
    // KATALOG RESPONSIVE DESIGN
    // =============================================
    @media (max-width: 1200px) {
        .duval-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: $spacing-md;
        }

        .duval-item,
        .duval-product-1,
        .duval-product-2,
        .duval-product-3,
        .duval-product-4,
        .duval-product-5,
        .duval-product-6,
        .duval-product-7 {
            width: 100%;
            height: 350px;
        }

        .duval-feature-image {
            grid-column: 1 / 3;
            width: 100%;
            height: 450px;
        }

        .duval-atmosphere-image {
            height: 450px;
        }

        .dinero-grid {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: auto;
        }

        .dinero-item-3 {
            grid-row: auto;
            grid-column: auto;
            height: 450px;
        }

        .dinero-item-4 {
            grid-column: 1 / 3;
            width: 100%;
        }

        .udvalgt-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .katalog-footer {
            grid-template-columns: 1fr 1fr;
        }
    }

    @media (max-width: 768px) {
        .katalog-nav {
            flex-direction: column;
            height: auto;
            padding: $spacing-md;
            gap: $spacing-md;
        }

        .katalog-hero {
            padding: $spacing-lg $spacing-md;
            min-height: auto;
        }

        .katalog-hero-inner {
            justify-content: center;
        }

        .katalog-hero-content {
            max-width: 100%;
            text-align: center;
        }

        .katalog-hero-title {
            font-size: 40px;
        }

        .katalog-filters {
            padding: $spacing-md;
        }

        .katalog-filters-inner {
            justify-content: flex-start;
            flex-wrap: nowrap;
            overflow-x: auto;
            padding-bottom: $spacing-sm;
        }

        .katalog-collection {
            padding: $spacing-lg $spacing-md;
        }

        .duval-grid,
        .dinero-grid {
            grid-template-columns: 1fr;
        }

        .duval-feature-image,
        .dinero-item-4 {
            grid-column: 1;
        }

        .udvalgt-grid {
            grid-template-columns: 1fr;
        }

        .udvalgt-item,
        .udvalgt-item:nth-child(3),
        .udvalgt-item:nth-child(4) {
            height: 300px;
        }

        .katalog-footer {
            grid-template-columns: 1fr;
            text-align: center;
        }

        .footer-logo-large {
            margin: 0 auto;
        }

        .katalog-udvalgt {
            padding: $spacing-lg $spacing-md;
        }
    }

} // End .katalog-page wrapper

